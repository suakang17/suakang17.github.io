---
layout: post
title:  "[winSCP]네트워크 오류: 접속시간 초과"
date:   2022-04-20 11:41:38 +0900
categories: Devlife
---
# [winSCP]네트워크 오류 - 접속시간 초과
> AWS EC2, winSCP  

> 해결방법 요약은 하단에 위치

오랜만에 ec2로 만들어둔 인스턴스를 사용하기 위해 기존에 등록해둔 키를 통해 winSCP로 접속하려고 했다.  

여지껏 오류없이 호스트에 잘 로그인 되었었는데 5초 남짓 걸리던 로그인 시간이 너무 오래 걸려 왜이러나 싶더니 접속 시간이 초과되었다는 네트워크 오류를 뱉었다.  

단순히 접속시간의 문제인가 싶다가, 저번의 우분투 내의 네트워크 이슈가 생각나 ip주소로 ping부터 찍어보았다.

<img src='/assets/img/docs/winscp_issue1.png'>  

확실히 단순하게 WinSCP환경설정에서 접속시간 제한을 늘린다고 해결될 문제는 아닌듯.. 

인스턴스 설정에 들어가서 포트 번호를 다시 확인해보았는데 포트 설정이 21로 되어있길래 다시 22번 포트로 변경해보고 핑을 찍었는데도 만료 메시지가 떴다.  

구글을 뒤져보다가 얼핏 저번에 보안그룹 설정을 만졌던 기억이 나서 보안그룹 규칙을 확인해보니 저번에 집에서 설정했던 ip로 내 ip로만 접속 가능하도록 제한을 걸어뒀었다. 

따라서 해당 보안규칙의 소스를 '내 ip >> anywhere IPV4'로 변경해주고 winSCP 호스트 로그인을 다시 시도해보니 예전처럼 수월하게 접속되었다.
<img src='/assets/img/docs/winscp_issue2.png'>

## 요약
- 문제: winSCP 접속 안됨 - 네트워크 오류: 접속시간 초과
- 해결
    1) AWS EC2의 해당 인스턴스 외부 접속 포트 확인
    2) AWS EC2 해당 인스턴스 > 보안 탭 > 인바운드 보안 규칙 > 보안 규칙 수정하기 > 해당 포트의 소스 확인 후 변경 (내 ip >> anywhere IPV4)